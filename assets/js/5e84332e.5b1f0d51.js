"use strict";(self.webpackChunkfacturapi_docs=self.webpackChunkfacturapi_docs||[]).push([[22],{3905:function(e,a,n){n.d(a,{Zo:function(){return u},kt:function(){return m}});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function i(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=t.createContext({}),c=function(e){var a=t.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},u=function(e){var a=c(e.components);return t.createElement(s.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},d=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return n?t.createElement(f,l(l({ref:a},u),{},{components:n})):t.createElement(f,l({ref:a},u))}));function m(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var c=2;c<o;c++)l[c]=n[c];return t.createElement.apply(null,l)}return t.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:function(e,a,n){n.d(a,{Z:function(){return l}});var t=n(7294),r=n(4334),o="tabItem_Ymn6";function l(e){var a=e.children,n=e.hidden,l=e.className;return t.createElement("div",{role:"tabpanel",className:(0,r.Z)(o,l),hidden:n},a)}},5488:function(e,a,n){n.d(a,{Z:function(){return m}});var t=n(3117),r=n(7294),o=n(4334),l=n(2389),i=n(7392),s=n(7094),c=n(2466),u="tabList__CuJ",p="tabItem_LNqP";function d(e){var a,n,l=e.lazy,d=e.block,m=e.defaultValue,f=e.values,g=e.groupId,v=e.className,b=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),k=null!=f?f:b.map((function(e){var a=e.props;return{value:a.value,label:a.label,attributes:a.attributes}})),y=(0,i.l)(k,(function(e,a){return e.value===a.value}));if(y.length>0)throw new Error('Docusaurus error: Duplicate values "'+y.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var C=null===m?m:null!=(a=null!=m?m:null==(n=b.find((function(e){return e.props.default})))?void 0:n.props.value)?a:b[0].props.value;if(null!==C&&!k.some((function(e){return e.value===C})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+C+'" but none of its children has the corresponding value. Available values are: '+k.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var h=(0,s.U)(),_=h.tabGroupChoices,N=h.setTabGroupChoices,x=(0,r.useState)(C),w=x[0],E=x[1],T=[],j=(0,c.o5)().blockElementScrollPositionUntilNextRender;if(null!=g){var O=_[g];null!=O&&O!==w&&k.some((function(e){return e.value===O}))&&E(O)}var I=function(e){var a=e.currentTarget,n=T.indexOf(a),t=k[n].value;t!==w&&(j(a),E(t),null!=g&&N(g,String(t)))},P=function(e){var a,n=null;switch(e.key){case"Enter":I(e);break;case"ArrowRight":var t,r=T.indexOf(e.currentTarget)+1;n=null!=(t=T[r])?t:T[0];break;case"ArrowLeft":var o,l=T.indexOf(e.currentTarget)-1;n=null!=(o=T[l])?o:T[T.length-1]}null==(a=n)||a.focus()};return r.createElement("div",{className:(0,o.Z)("tabs-container",u)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":d},v)},k.map((function(e){var a=e.value,n=e.label,l=e.attributes;return r.createElement("li",(0,t.Z)({role:"tab",tabIndex:w===a?0:-1,"aria-selected":w===a,key:a,ref:function(e){return T.push(e)},onKeyDown:P,onClick:I},l,{className:(0,o.Z)("tabs__item",p,null==l?void 0:l.className,{"tabs__item--active":w===a})}),null!=n?n:a)}))),l?(0,r.cloneElement)(b.filter((function(e){return e.props.value===w}))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},b.map((function(e,a){return(0,r.cloneElement)(e,{key:a,hidden:e.props.value!==w})}))))}function m(e){var a=(0,l.Z)();return r.createElement(d,(0,t.Z)({key:String(a)},e))}},1284:function(e,a,n){n.r(a),n.d(a,{assets:function(){return d},contentTitle:function(){return u},default:function(){return g},frontMatter:function(){return c},metadata:function(){return p},toc:function(){return m}});var t=n(3117),r=n(102),o=(n(7294),n(3905)),l=n(5488),i=n(5162),s=["components"],c={sidebar_position:1},u="Clientes",p={unversionedId:"guides/customers",id:"guides/customers",title:"Clientes",description:"Registrar a tu clientes en Facturapi te permite validar sus datos fiscales y",source:"@site/docs/guides/customers.mdx",sourceDirName:"guides",slug:"/guides/customers",permalink:"/docs/guides/customers",draft:!1,editUrl:"https://github.com/facturapi/facturapi-docs/edit/main/website/docs/guides/customers.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Autenticaci\xf3n",permalink:"/docs/getting-started/authenticate"},next:{title:"Productos",permalink:"/docs/guides/products"}},d={},m=[{value:"C\xf3mo registrar un cliente",id:"c\xf3mo-registrar-un-cliente",level:2},{value:"Clientes nacionales",id:"clientes-nacionales",level:3},{value:"Clientes extranjeros",id:"clientes-extranjeros",level:3}],f={toc:m};function g(e){var a=e.components,n=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,t.Z)({},f,n,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"clientes"},"Clientes"),(0,o.kt)("p",null,"Registrar a tu clientes en Facturapi te permite validar sus datos fiscales y\nalmacenarlos para futuras facturas."),(0,o.kt)("p",null,"Una vez registrado, podr\xe1s guardar el ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," del objeto creado y usarlo para\nfacturar al mismo cliente sin volver a enviar todos sus datos fiscales."),(0,o.kt)("p",null,"Al crear una factura, puedes incluir la informaci\xf3n del receptor de 2 maneras\ndistintas:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"En el campo ",(0,o.kt)("inlineCode",{parentName:"li"},"customer"),", enviando un objeto con los datos fiscales del\ncliente."),(0,o.kt)("li",{parentName:"ol"},"En el campo ",(0,o.kt)("inlineCode",{parentName:"li"},"customer"),", enviando el ",(0,o.kt)("inlineCode",{parentName:"li"},"id")," de un cliente previamente\nregistrado.")),(0,o.kt)("p",null,"Ambas opciones son v\xe1lidas y te recomendamos usar la que mejor se adapte a tu\ncaso de uso."),(0,o.kt)("h2",{id:"c\xf3mo-registrar-un-cliente"},"C\xf3mo registrar un cliente"),(0,o.kt)("p",null,"En Facturapi, la forma de registrar los datos fiscales de clientes nacionales y\nextranjeros no es muy diferente entre s\xed, pero vale la pena analizarlos por\nseparado, ya que s\xed es diferente de como lo indica el SAT en su est\xe1ndar t\xe9cnico."),(0,o.kt)("h3",{id:"clientes-nacionales"},"Clientes nacionales"),(0,o.kt)("p",null,"El siguiente ejemplo muestra c\xf3mo registrar a un cliente nacional."),(0,o.kt)("p",null,"Para conocer qu\xe9 otros datos puedes incluir, consulta la\n",(0,o.kt)("a",{parentName:"p",href:"/api/#operation/createCustomer"},"referencia del m\xe9todo Crear Cliente"),"."),(0,o.kt)(l.Z,{groupId:"codeExamples",mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"js",label:"Node.js",default:!0,mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const Facturapi = require('facturapi');\nconst facturapi = new Facturapi('sk_test_API_KEY');\n\nconst customer = await facturapi.customers.create({\n  legal_name: 'Dunder Mifflin', // Nombre o raz\xf3n social\n  tax_id: 'ABC101010111', // RFC\n  tax_system: '601', // Regimen fiscal\n  email: 'email@example.com', // Correo para env\xedo (opcional).\n  address: {\n    zip: '85900', // C\xf3digo postal\n  }\n});\n"))),(0,o.kt)(i.Z,{value:"cs",label:"C#",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'var facturapi = new FacturapiClient("sk_test_API_KEY");\n\nvar customer = await facturapi.Customer.CreateAsync(new Dictionary<string, object>\n{\n  ["legal_name"] = "Dunder Mifflin", // Nombre o raz\xf3n social\n  ["tax_id"] = "ABC101010111", // RFC\n  ["tax_system"] = "601", // Regimen fiscal\n  ["email"] = "email@example.com", // Correo para env\xedo (opcional).\n  ["address"] = new Dictionary<string, object>\n  {\n    ["zip"] = "85900", // C\xf3digo postal\n  }\n});\n'))),(0,o.kt)(i.Z,{value:"php",label:"PHP",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},'$facturapi = new FacturapiClient("sk_test_API_KEY");\n\n$customer = $facturapi->Customers->create([\n  "legal_name" => "Dunder Mifflin", // Nombre o raz\xf3n social\n  "tax_id" => "ABC101010111", // RFC\n  "tax_system" => "601", // Regimen fiscal\n  "email" => "walterwhite@gmail.com", // Correo para env\xedo (opcional).\n  "address" => [\n    "zip" => "85900", // C\xf3digo postal\n  ]\n]);\n'))),(0,o.kt)(i.Z,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl https://www.facturapi.io/v1/customers \\\n  -H "Authorization: Bearer sk_test_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n      "legal_name": "Dunder Mifflin", // Nombre o raz\xf3n social\n      "email": "email@example.com", // Correo para env\xedo (opcional).\n      "tax_id": "ABC101010111", // RFC\n      "tax_system": "601", // R\xe9gimen fiscal\n      "address": {\n        "zip": "85900" // C\xf3digo postal\n      }\n    }\'\n')))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Respuesta: Objeto Customer"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "590ce6c56d04f840aa8438af",\n  "created_at": "2017-05-05T20:55:33.468Z",\n  "organization": "622a33e6f0175a00e01a8e80",\n  "livemode": false,\n  "legal_name": "Dunder Mifflin",\n  "tax_id": "ABC101010111",\n  "tax_system": "601",\n  "email": "email@example.com",\n  "phone": 6474010101,\n  "address": {\n    "street": null,\n    "exterior": null,\n    "interior": null,\n    "neighborhood": null,\n    "city": "Huatabampo",\n    "municipality": "Huatabampo",\n    "zip": 86500,\n    "state": "Sonora",\n    "country": "MEX"\n  }\n}\n'))),(0,o.kt)("h3",{id:"clientes-extranjeros"},"Clientes extranjeros"),(0,o.kt)("p",null,"Para registrar un cliente extranjero es necesario especificar el pa\xeds de\norigen, enviando el ",(0,o.kt)("a",{parentName:"p",href:"https://es.wikipedia.org/wiki/ISO_3166-1_alfa-3"},"c\xf3digo ISO del pa\xeds"),"\nde origen por medio del campo ",(0,o.kt)("inlineCode",{parentName:"p"},"country"),"."),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"No necesitas usar el RFC gen\xe9rico para extranjeros del SAT. Nosotros lo\npondremos por ti donde haga falta, siempre y cuando env\xedes un valor distinto\nde ",(0,o.kt)("inlineCode",{parentName:"p"},'"MEX"')," para el campo ",(0,o.kt)("inlineCode",{parentName:"p"},"country"),".")),(0,o.kt)("p",null,"Para conocer qu\xe9 otros datos puedes incluir, consulta la\n",(0,o.kt)("a",{parentName:"p",href:"/api/#operation/createCustomer"},"referencia completa del m\xe9todo Crear Cliente"),"."),(0,o.kt)(l.Z,{groupId:"codeExamples",mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"js",label:"Node.js",default:!0,mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const Facturapi = require('facturapi');\nconst facturapi = new Facturapi('sk_test_API_KEY');\n\nconst customer = await facturapi.customers.create({\n  legal_name: 'V\xe4ttenfall, A.B.', // Nombre o raz\xf3n social\n  tax_id: '198912171234', // N\xfam. de reg. id. trib. (opcional)\n  email: 'email@example.com', // Correo para env\xedo (opcional).\n  address: {\n    country: \"SWE\", // C\xf3digo ISO del pa\xeds.\n    zip: \"17123\", // C\xf3digo postal\n    city: \"Stockholm\" // Ciudad (opcional).\n  }\n});\n"))),(0,o.kt)(i.Z,{value:"cs",label:"C#",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'var facturapi = new FacturapiClient("sk_test_API_KEY");\n\nvar customer = await facturapi.Customer.CreateAsync(new Dictionary<string, object>\n{\n  ["legal_name"] = "V\xe4ttenfall, A.B.", // Nombre o raz\xf3n social\n  ["tax_id"] = "198912171234", // // N\xfam. de reg. id. trib. (opcional)\n  ["email"] = "email@example.com", // Correo para env\xedo (opcional).\n  ["address"] = new Dictionary<string, object>\n  {\n    ["country"] = "SWE", // C\xf3digo ISO del pa\xeds.\n    ["zip"] = "17123", // C\xf3digo postal\n    ["city"] = "Stockholm" // Ciudad (opcional).\n  }\n});\n'))),(0,o.kt)(i.Z,{value:"php",label:"PHP",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-php"},'$facturapi = new FacturapiClient("sk_test_API_KEY");\n$customer = $facturapi->Customers->create([\n  "legal_name" => "V\xe4ttenfall, A.B.", // Nombre o raz\xf3n social\n  "tax_id" => "198912171234", // N\xfam. de reg. id. trib. (opcional)\n  "email" => "email@example.com", // Correo para env\xedo (opcional).\n  "address" => [\n    "country" => "SWE", // C\xf3digo ISO del pa\xeds.\n    "zip" => "17123", // C\xf3digo postal\n    "city" => "Stockholm" // Ciudad (opcional).\n  ]\n]);\n'))),(0,o.kt)(i.Z,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'curl https://www.facturapi.io/v1/customers \\\n  -H "Authorization: Bearer sk_test_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n      "legal_name": "V\xe4ttenfall, A.B.", // Nombre o raz\xf3n social\n      "tax_id": "198912171234", // N\xfam. de reg. id. trib. (opcional)\n      "email": "email@example.com", // Correo para env\xedo (opcional).\n      "address": {\n        "country": "SWE", // C\xf3digo ISO del pa\xeds.\n        "zip": "17123", // C\xf3digo postal\n        "city": "Stockholm" // Ciudad (opcional).\n      }\n    }\'\n')))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Respuesta: Objeto Customer"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "62714bc2d1bfa410df1d98eb",\n  "created_at": "2022-05-03T15:35:30.034Z",\n  "organization": "622a33e6f0175a00e01a8e80",\n  "livemode": false,\n  "legal_name": "V\xe4ttenfall, A.B.",\n  "tax_id": "198912171234",\n  "email": "email@example.com",\n  "address": {\n    "country": "SWE",\n    "zip": "17123",\n    "city": "Stockholm"\n  },\n}\n'))),(0,o.kt)("h2",{id:""}))}g.isMDXComponent=!0}}]);